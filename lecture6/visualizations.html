<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.242">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Esteban Montenegro-Montenegro, PhD">

<title>QuantLab - Data Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">QuantLab</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../PSYC3000.html">
 <span class="menu-text">PSYC 3000 Lab</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Data Visualization</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Content</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Quantitative Methods Lab</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../about.html" class="sidebar-item-text sidebar-link">About</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PSYC3000.html" class="sidebar-item-text sidebar-link">PSYC 3000 Lab</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#why-figures-are-important" id="toc-why-figures-are-important" class="nav-link active" data-scroll-target="#why-figures-are-important">Why figures are important?</a></li>
  <li><a href="#why-figures-are-important-ii" id="toc-why-figures-are-important-ii" class="nav-link" data-scroll-target="#why-figures-are-important-ii">Why figures are important? II</a></li>
  <li><a href="#creating-a-good-graph" id="toc-creating-a-good-graph" class="nav-link" data-scroll-target="#creating-a-good-graph">Creating a good graph</a></li>
  <li><a href="#lets-talk-about-histograms" id="toc-lets-talk-about-histograms" class="nav-link" data-scroll-target="#lets-talk-about-histograms">Let’s talk about histograms</a></li>
  <li><a href="#lets-talk-about-histograms-ii" id="toc-lets-talk-about-histograms-ii" class="nav-link" data-scroll-target="#lets-talk-about-histograms-ii">Let’s talk about histograms II</a></li>
  <li><a href="#lets-talk-about-histograms-iii" id="toc-lets-talk-about-histograms-iii" class="nav-link" data-scroll-target="#lets-talk-about-histograms-iii">Let’s talk about histograms III</a></li>
  <li><a href="#lets-talk-about-histograms-iv" id="toc-lets-talk-about-histograms-iv" class="nav-link" data-scroll-target="#lets-talk-about-histograms-iv">Let’s talk about histograms IV</a></li>
  <li><a href="#there-are-many-ways-to-get-to-the-same-point" id="toc-there-are-many-ways-to-get-to-the-same-point" class="nav-link" data-scroll-target="#there-are-many-ways-to-get-to-the-same-point">There are many ways to get to the same point</a></li>
  <li><a href="#ggplot2-package-to-create-graphs" id="toc-ggplot2-package-to-create-graphs" class="nav-link" data-scroll-target="#ggplot2-package-to-create-graphs"><code>ggplot2()</code> package to create graphs</a></li>
  <li><a href="#ggplot2-package-to-create-graphs-ii" id="toc-ggplot2-package-to-create-graphs-ii" class="nav-link" data-scroll-target="#ggplot2-package-to-create-graphs-ii"><code>ggplot2()</code> package to create graphs II</a></li>
  <li><a href="#ggplot2-package-to-create-graphs-ii-1" id="toc-ggplot2-package-to-create-graphs-ii-1" class="nav-link" data-scroll-target="#ggplot2-package-to-create-graphs-ii-1"><code>ggplot2()</code> package to create graphs II</a></li>
  <li><a href="#time-to-add-layers" id="toc-time-to-add-layers" class="nav-link" data-scroll-target="#time-to-add-layers">Time to add layers</a></li>
  <li><a href="#time-to-add-layers-ii" id="toc-time-to-add-layers-ii" class="nav-link" data-scroll-target="#time-to-add-layers-ii">Time to add layers II</a></li>
  <li><a href="#time-to-add-layers-ii-1" id="toc-time-to-add-layers-ii-1" class="nav-link" data-scroll-target="#time-to-add-layers-ii-1">Time to add layers II</a></li>
  <li><a href="#time-to-add-layers-iii" id="toc-time-to-add-layers-iii" class="nav-link" data-scroll-target="#time-to-add-layers-iii">Time to add layers III</a></li>
  <li><a href="#we-are-in-good-shape-to-continue-drawing" id="toc-we-are-in-good-shape-to-continue-drawing" class="nav-link" data-scroll-target="#we-are-in-good-shape-to-continue-drawing">We are in good shape to continue drawing!</a></li>
  <li><a href="#we-are-in-good-shape-to-continue-drawing-ii" id="toc-we-are-in-good-shape-to-continue-drawing-ii" class="nav-link" data-scroll-target="#we-are-in-good-shape-to-continue-drawing-ii">We are in good shape to continue drawing! II</a></li>
  <li><a href="#we-are-in-good-shape-to-continue" id="toc-we-are-in-good-shape-to-continue" class="nav-link" data-scroll-target="#we-are-in-good-shape-to-continue">We are in good shape to continue!</a></li>
  <li><a href="#we-are-in-good-shape-to-continue-iii" id="toc-we-are-in-good-shape-to-continue-iii" class="nav-link" data-scroll-target="#we-are-in-good-shape-to-continue-iii">We are in good shape to continue ! III</a></li>
  <li><a href="#we-are-in-good-shape-to-continue-iv" id="toc-we-are-in-good-shape-to-continue-iv" class="nav-link" data-scroll-target="#we-are-in-good-shape-to-continue-iv">We are in good shape to continue ! IV</a></li>
  <li><a href="#we-are-in-good-shape-to-continue-iv-1" id="toc-we-are-in-good-shape-to-continue-iv-1" class="nav-link" data-scroll-target="#we-are-in-good-shape-to-continue-iv-1">We are in good shape to continue ! IV</a></li>
  <li><a href="#qq-plots-quantile-quantile-plots" id="toc-qq-plots-quantile-quantile-plots" class="nav-link" data-scroll-target="#qq-plots-quantile-quantile-plots">QQ-plots: Quantile-Quantile plots</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Data Visualization</h1>
<p class="subtitle lead">The art of plotting</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading"></div>
  
    <div class="quarto-title-meta-contents">
    Esteban Montenegro-Montenegro, PhD 
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Psychology and Child Development
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  

</header>

<section id="why-figures-are-important" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="why-figures-are-important">Why figures are important?</h2>
<ul>
<li><p>In statistics we can add tables and explain our results, but a good graph will always help you to tell your story better.</p></li>
<li><p>It is a fast and easy way to comunicate several ideas in one single figure.</p></li>
<li><p>If you plot your values in the right way, you don’t need a lot of words to convey a message.</p></li>
<li><p>We are limited by our senses and biases, that’s why a plot helps to see the whole picture.</p></li>
</ul>
</section>
<section id="why-figures-are-important-ii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="why-figures-are-important-ii">Why figures are important? II</h2>
<ul>
<li><p>In this lecture we will study briefly the most common plots to diagnose data and detect values that are extreme or a little bit odd.</p></li>
<li><p>I will also explain more about the package <code>ggplot2</code> in <code>R</code> and details on how <code>R</code> creates plots.</p></li>
</ul>
</section>
<section id="creating-a-good-graph" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="creating-a-good-graph">Creating a good graph</h2>
<ul>
<li>Rules are always important:
<ul>
<li>Minimize chart or graph junk.</li>
<li>Plan out your chart before you start creating the final copy.</li>
<li>Say what you mean and mean what you say—no more and no less.</li>
<li>Label everything so nothing is left to the misunderstanding of the audience.</li>
<li>A graph should communicate only one idea.<br>
</li>
<li>Keep things balanced.</li>
<li>Maintain the scale in a graph.</li>
<li>Simple is best and less is more.</li>
<li>Limit the number of words you use.</li>
<li>A chart alone should convey what you want to say.</li>
</ul></li>
</ul>
</section>
<section id="lets-talk-about-histograms" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="lets-talk-about-histograms">Let’s talk about histograms</h2>
<p><img src="table1.png" class="img-fluid"><br>
- Let’s imagine those are scores from a test.</p>
</section>
<section id="lets-talk-about-histograms-ii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="lets-talk-about-histograms-ii">Let’s talk about histograms II</h2>
<ul>
<li>From the previuos table we could create class intervals and then count how many values can be classified in each class:</li>
</ul>
<p><img src="table2.png" class="img-fluid" data-fig-align="center"> <img src="table3.png" class="img-fluid" data-fig-align="center"></p>
</section>
<section id="lets-talk-about-histograms-iii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="lets-talk-about-histograms-iii">Let’s talk about histograms III</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="byhand.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="lets-talk-about-histograms-iv" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="lets-talk-about-histograms-iv">Let’s talk about histograms IV</h2>
<ul>
<li>Now, we can do it in <code>R</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Reading <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">47</span>, <span class="dv">2</span>, <span class="dv">44</span>, <span class="dv">41</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">35</span>, <span class="dv">38</span>, <span class="dv">35</span>, <span class="dv">36</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>            <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">14</span>, <span class="dv">14</span>, <span class="dv">30</span>, <span class="dv">30</span>, <span class="dv">32</span>, <span class="dv">33</span>, <span class="dv">34</span>, <span class="dv">32</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>            <span class="dv">31</span>, <span class="dv">31</span>, <span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">17</span>, <span class="dv">16</span>, <span class="dv">15</span>, <span class="dv">19</span>, <span class="dv">18</span>, <span class="dv">16</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>            <span class="dv">25</span>, <span class="dv">25</span>, <span class="dv">26</span>, <span class="dv">26</span>, <span class="dv">27</span>, <span class="dv">29</span>, <span class="dv">29</span>, <span class="dv">28</span>, <span class="dv">29</span>, <span class="dv">27</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">21</span>, <span class="dv">21</span>, <span class="dv">24</span>, <span class="dv">24</span>, <span class="dv">23</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">20</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(Reading)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can change the number of class intervals:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(Reading, <span class="at">breaks =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can also add the Density Plot to the histogram:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">hist</span>(Reading, <span class="at">probability =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">lines</span>(<span class="fu">density</span>(Reading))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="there-are-many-ways-to-get-to-the-same-point" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="there-are-many-ways-to-get-to-the-same-point">There are many ways to get to the same point</h2>
<ul>
<li><p>As always in life, there are several ways to solve a problem or to reprensent an idea.</p></li>
<li><p><code>R</code> has its own function to create plots, and probably you can recognize the function <code>hist()</code>, or the function <code>plot()</code>. In reality all the plots can be created only with <code>R</code> base functions.</p></li>
<li><p>But there is another way to create plots, which is using the package <code>ggplot2</code>.</p></li>
<li><p>As always, we need to check some documentation in <a href="https://ggplot2.tidyverse.org/reference/">this link.</a></p></li>
</ul>
</section>
<section id="ggplot2-package-to-create-graphs" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="ggplot2-package-to-create-graphs"><code>ggplot2()</code> package to create graphs</h2>
<ul>
<li><code>ggplot2()</code> is a powerful package capable of doing amazing graphs ready to be publish.</li>
<li>The syntax that <code>ggplot</code> follows is known as “grammar of graphics”. Sounds fancy?</li>
<li>This package has some rules on how we can create plots.</li>
<li>We are going to review the basic rules to create a plot.</li>
</ul>
</section>
<section id="ggplot2-package-to-create-graphs-ii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="ggplot2-package-to-create-graphs-ii"><code>ggplot2()</code> package to create graphs II</h2>
<ul>
<li><code>ggplot()</code> does something called “mapping data”, this means that <code>ggplot</code> starts by linking your data with the graphics, it “maps” information into the picture.</li>
<li>In order to create a “map” of the data we use the following code:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>rum <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"ruminationComplete.csv"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rum, <span class="fu">aes</span>(<span class="at">x=</span>grade))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ggplot2-package-to-create-graphs-ii-1" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="ggplot2-package-to-create-graphs-ii-1"><code>ggplot2()</code> package to create graphs II</h2>
<ul>
<li><p>In the code, we are using a function named <code>aes()</code>, this stands for <em>aesthetics</em>. This means in simple English “appearance”. The function <code>aes</code> is creating a layout fo your data. That’s the first step.</p></li>
<li><p>After creating the layout, similar to an empty canvas, we will add layers</p></li>
<li><p>The layers are added by including the geometric form also known as <code>geoms</code> in <code>ggplot2</code> grammar.</p></li>
</ul>
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="bobross.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="time-to-add-layers" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="time-to-add-layers">Time to add layers</h2>
<ul>
<li><code>geoms</code> are the layers to create bar plots, pie charts, and many more types of figures:
<ul>
<li>The <code>+</code> sign is the glue that keeps the <code>geom_bar()</code> layer along with the mapped data</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rum, <span class="fu">aes</span>(<span class="at">x=</span>grade)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="time-to-add-layers-ii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="time-to-add-layers-ii">Time to add layers II</h2>
<ul>
<li>You can also change the colors in other settings inside the layer:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rum, <span class="fu">aes</span>(<span class="at">x=</span>grade)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="time-to-add-layers-ii-1" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="time-to-add-layers-ii-1">Time to add layers II</h2>
<ul>
<li>The labels and text are also considered another layer, there are functions for changing the text:</li>
<li>Here we are changing the x-axis and y-axis labels.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rum, <span class="fu">aes</span>(<span class="at">x=</span>grade)) <span class="sc">+</span> </span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">ylab</span>(<span class="st">"Counts of Students"</span>)<span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">xlab</span>(<span class="st">"Grade"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="time-to-add-layers-iii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="time-to-add-layers-iii">Time to add layers III</h2>
<ul>
<li>There a good thing, <code>ggplot()</code> already has themes that you add to your plot, you don’t need to manipulate the appearance by yourself, in this case I’m adding the theme <code>theme_classic()</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rum, <span class="fu">aes</span>(<span class="at">x=</span>grade)) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">ylab</span>(<span class="st">"Counts of Students"</span>)<span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">xlab</span>(<span class="st">"Grade"</span>) <span class="sc">+</span> </span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">ggtitle</span>(<span class="st">"Bar Plot Example"</span>)<span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="we-are-in-good-shape-to-continue-drawing" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="we-are-in-good-shape-to-continue-drawing">We are in good shape to continue drawing!</h2>
<ul>
<li>Now, can resume were we left, we were talking about histograms.</li>
<li>In <code>ggplot</code> there is geom for each plot, in this case we can use the <code>geom_hist()</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rum, <span class="fu">aes</span>(<span class="at">x=</span>ageMonths)) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">geom_histogram</span>(<span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">ylab</span>(<span class="st">"Counts"</span>)<span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">xlab</span>(<span class="st">"Age in Months"</span>) <span class="sc">+</span> </span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Age"</span>)<span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="we-are-in-good-shape-to-continue-drawing-ii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="we-are-in-good-shape-to-continue-drawing-ii">We are in good shape to continue drawing! II</h2>
<ul>
<li><p>There is another type of plot called “box plot” (whisker plot) , this type of plot is useful to detect extreme cases or outliers.</p></li>
<li><p>The line in the middle represents the median of the distribution, and the top line is the 75th percentile. The bottom line in the box represents the 25th percentile. See the anatomy of a bloxplot in this <a href="https://r-graph-gallery.com/boxplot.html">link.</a></p></li>
</ul>
</section>
<section id="we-are-in-good-shape-to-continue" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="we-are-in-good-shape-to-continue">We are in good shape to continue!</h2>
<p>-Let’s do it in base <code>R</code> first:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(ageMonths <span class="sc">~</span> sex,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">data=</span>rum, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">main=</span><span class="st">"Box Plot of Age by Sex"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">xlab=</span><span class="st">"Sex"</span>, </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">ylab=</span><span class="st">"Age in months"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"women"</span>, <span class="st">"men"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="visualizations_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="we-are-in-good-shape-to-continue-iii" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="we-are-in-good-shape-to-continue-iii">We are in good shape to continue ! III</h2>
<ul>
<li>We can also do the same plot using <code>ggplot2</code> package, in this case we add the <code>geom_boxplot()</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rum, </span>
<span id="cb12-2"><a href="#cb12-2"></a>       <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">factor</span>(sex), <span class="at">y=</span>ageMonths)) <span class="sc">+</span> </span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">xlab</span>(<span class="st">"Sex"</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="fu">ylab</span>(<span class="st">"Age in Months"</span>)<span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="fu">ggtitle</span>(<span class="st">"Box Plot of Age by Sex"</span>) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Women"</span>, <span class="st">"Men"</span>))<span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="visualizations_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="we-are-in-good-shape-to-continue-iv" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="we-are-in-good-shape-to-continue-iv">We are in good shape to continue ! IV</h2>
<ul>
<li>Line plots are great for representing longitudinal data:</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Expectancy of life at birth from the World Bank</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>life <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"lifeExpect.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country.Name <span class="sc">==</span> <span class="st">"Costa Rica"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(X1960<span class="sc">:</span>X2020) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"year"</span>, </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"lifeYears"</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>lifeExpect <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"X"</span>, <span class="st">""</span>, life<span class="sc">$</span>year)) </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> lifeExpect,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> life<span class="sc">$</span>lifeYears, </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">"l"</span>,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Year"</span>,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Life expectancy at birth"</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Life expectancy from 1960 to 2020 in Costa Rica"</span>,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"blue"</span>,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="we-are-in-good-shape-to-continue-iv-1" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="we-are-in-good-shape-to-continue-iv-1">We are in good shape to continue ! IV</h2>
<ul>
<li>Line plots are great for representing longitudinal data, now let’s do it with <code>ggplot2</code>:</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Expectancy of life at birth from the World Bank</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>life <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"lifeExpect.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country.Name <span class="sc">==</span> <span class="st">"Costa Rica"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(X1960<span class="sc">:</span>X2020) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"year"</span>, </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"lifeYears"</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>lifeExpect <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"X"</span>, <span class="st">""</span>, life<span class="sc">$</span>year)) </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> lifeExpect,</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> life<span class="sc">$</span>lifeYears, </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">"l"</span>,</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Year"</span>,</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Life expectancy at birth"</span>,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Life expectancy from 1960 to 2020 in Costa Rica"</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"blue"</span>,</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="visualizations_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Note: Years in the X-axis is represented in 5 years interval</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="qq-plots-quantile-quantile-plots" class="level2 smaller scrollable" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 class="smaller scrollable anchored" data-background-image="slide2.png" data-background-opacity="0.5" data-anchor-id="qq-plots-quantile-quantile-plots">QQ-plots: Quantile-Quantile plots</h2>
<ul>
<li><p>Remember that we studied how to estimate the percentiles of a continous distribution? Now we will apply your knowledge to plots.</p></li>
<li><p>Quantile-Quantile plots will take the observed quantiles (or percentiles) from your observed data (lower case) and compare those quantiles versus a theoretical distribution.</p></li>
<li><p>Many times we want to test if our observed data comes from a normally distributed process, so we can take the theoretical normal quantiles and plot them against our observed quantiles.</p></li>
<li><p>Let’s see how life expectancy in Costa Rica looks like compare to a normally distributed process:</p></li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(life<span class="sc">$</span>lifeYears, </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">1</span>, </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">frame =</span> <span class="cn">TRUE</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Normal Q-Q Plot for Life Expentancy in Costa Rica"</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">qqline</span>(life<span class="sc">$</span>lifeYears, <span class="at">col =</span> <span class="st">"steelblue"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
<ul>
<li>If all the dots are align to the straight line we can assume the process that produces the data is normally distributed, in this case; what do you think?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1236</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>generatedValues <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(generatedValues, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">1</span>, </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">frame =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Normal Q-Q Plot for Simulated data from a normal distribution"</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="fu">qqline</span>(generatedValues, </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"steelblue"</span>, </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="visualizations_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>The plot above shows what the QQ plot looks like when your observed data come from a normally distributed process.</li>
</ul>
</section>
<section id="references" class="level2" data-background-image="slide2.png" data-background-opacity="0.5">
<h2 data-background-image="slide2.png" data-background-opacity="0.5" class="anchored" data-anchor-id="references">References</h2>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>